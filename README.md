# 지하철 노선 만들기 미션

### 기능 목록

#### 1단계 : 지하철 노선 관리 기능 구현

- 인수 조건 파악 후 인수 테스트 성공시키기

  Feature: 지하철 노선 관리   

  ​	Scenario: 지하철 노선을 관리한다.    

  ​		When 지하철 노선 n개 추가 요청을 한다.    

  ​		Then 지하철 노선이 추가 되었다.        

  

  ​		When 지하철 노선 목록 조회 요청을 한다.    

  ​		Then 지하철 노선 목록을 응답 받는다.    

  ​		And 지하철 노선 목록은 n개이다.        

  

  ​		When 지하철 노선 수정 요청을 한다.   

  ​		Then 지하철 노선이 수정 되었다.     

  

  ​		When 지하철 노선 제거 요청을 한다.    

  ​		Then 지하철 노선이 제거 되었다.        

  

  ​		When 지하철 노선 목록 조회 요청을 한다.    

  ​		Then 지하철 노선 목록을 응답 받는다.    

  ​		And 지하철 노선 목록은 n-1개이다.

- 지하철 노선 추가 API, 지하철 노선 목록 조회 API, 지하철 노선 수정 API, 지하철 노선 단건 조회 API, 지하철 노선 제거 API 구현하기

#### 2단계 : 지하철 노선 관리 페이지 연동

- 페이지 호출 시 미리 저장한 지하철 노선 조회 -> 지하철 노선 목록 조회 API 사용

- 노선 추가 버튼을 누르면 입력된 노선 이름과 정보를 저장 -> 지하철 노선 추가 API 사용
- 목록에서 노선 선택 시 상세 정보를 조회 -> 지하철 노선 조회 API 사용
- 수정 팝업화면에서 기존 정보는 입력되어 있어야 함
- 수정 팝업화면에서 정보 수정 -> 지하철 노선 수정 API 사용
- 삭제 버튼을 통해 정보 삭제 -> 지하철 노선 삭제 API 사용

#### 3단계 : 노선별 지하철역 관리

- 노선별 지하철역 관리 기능 추가

  - 지하철 노선에 역 추가 기능 (이전역과의 거리, 소요시간 정보가 추가되어야 함)
  - 지하철 노선에 역 제거 기능 (노선과 제거할 지하차철역 식별값을 전달)

- 인수 테스트(LineStationAcceptanceTest)를 완성 시키기

  - 시나리오

    Feature: 지하철 노선에 역 추가 / 제거 

    ​	Scenario: 지하철 노선에 역을 추가하고 제거한다.     

    ​		Given 지하철역이 여러 개 추가되어있다.     

    ​		And 지하철 노선이 추가되어있다.      

    ​		When 지하철 노선에 지하철역을 등록하는 요청을 한다.     

    ​		Then 지하철역이 노선에 추가 되었다.      

    ​		

    ​		When 지하철 노선의 지하철역 목록 조회 요청을 한다.    

    ​		Then 지하철역 목록을 응답 받는다.     

    ​		And 새로 추가한 지하철역을 목록에서 찾는다.      

    ​		

    ​		When 지하철 노선에 포함된 특정 지하철역을 제외하는 요청을 한다.     

    ​		Then 지하철역이 노선에서 제거 되었다.      

    ​		

    ​		When 지하철 노선의 지하철역 목록 조회 요청을 한다.     

    ​		Then 지하철역 목록을 응답 받는다.     

    ​		And 제외한 지하철역이 목록에 존재하지 않는다.

#### 4단계 : 노선별 지하철역 관리 기능 구현하기

- 기능 제약조건 
  - 한 노선의 출발역은 하나만 존재하고 단방향으로 관리함
  - 한 노선에서 두 갈래로 갈라지는 경우는 없음 
  - 이전역이 없는 경우 출발역으로 간주
- 지하철 노선에 역 추가
  - 마지막 역이 아닌 뒷 따르는 역이 있는경우 재배치를 함
  - 노선에 A - B - C 역이 연결되어 있을 때 B 다음으로 D라는 역을 추가할 경우 A - B - D - C로 재배치 됨

- 지하철 노선에 역 제거
  - 출발역이 제거될 경우 출발역 다음으로 오던 역이 출발역으로 됨
  - 노선에 A - B - D - C 역이 연결되어 있을 때 B역을 제거할 경우 A - B - C로 재배치 됨

#### 5단계 : 노선별 지하철역 관리 페이지 연동

- 구간 페이지 연동 
  - 전체 노선 목록과 노선에 등록된 지하철역 목록을 통해 페이지 로드
  - 지하철역 목록을 조회하는 방법은 자유롭게 선택 가능(제약을 두지 않음)
- 구간 추가 
  - 추가 버튼과 팝업화면을 통해 추가
- 구간 제거
  - 목록 우측 제거 버튼을 통해 제거

